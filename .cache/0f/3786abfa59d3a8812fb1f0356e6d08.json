{"id":"H99C","dependencies":[{"name":"/Users/xuyuanshi/Desktop/foospace/package.json","includedInParent":true,"mtime":1692781606000},{"name":"./database.json","loc":{"line":1,"column":21,"index":21},"parent":"/Users/xuyuanshi/Desktop/foospace/src/index.js","resolved":"/Users/xuyuanshi/Desktop/foospace/src/database.json"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.checkout=void 0;var n=t(require(\"./database.json\"));function t(n){return n&&n.__esModule?n:{default:n}}var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=n.default.products,r={},i=t.map(function(n,t){var r=e[n],i=r.name,a=r.price;return{index:t+1,id:n,name:i,originalPrice:a,finalPrice:a}});return i.length<3?i.forEach(function(n,t){var e=n.id;void 0===r[e]?r[e]=t:n.finalPrice*=.5}):i.forEach(function(n,t){var e=n.id;if(void 0===r[e])r[e]=t,n.finalPrice-=5;else if(-1!==r[e]){i[r[e]].finalPrice+=5,n.finalPrice*=.5,r[e]=-1}else n.finalPrice-=5}),{cart:i,totalPrice:i.reduce(function(n,t){return n+t.finalPrice},0)}};exports.checkout=e;var r=e([\"003\",\"002\",\"003\",\"003\",\"004\"]),i=document.getElementById(\"app\"),a=\"<p>價格。以本範例為例，價格為：$\".concat(r.totalPrice,\"</p>\"),c=\"<p>\\n</p>\",o='\\n  <table style=\"text-align: center;\">\\n    <thead>\\n      <tr>\\n        <th>#</th>\\n        <th>ID</th>\\n        <th>原價</th>\\n        <th>活動價</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr>\\n        <td colspan=\"4\">\\n          ----------------------------------------------------\\n        </td>\\n      </tr>\\n      '.concat(r.cart.map(function(n){var t=n.index,e=n.id,r=n.originalPrice,i=n.finalPrice;return\"\\n            <tr>\\n              <td>\".concat(t,\"</td>\\n              <td>\").concat(e,\"</td>\\n              <td>\").concat(r,\"</td>\\n              <td>\").concat(i,\"</td>\\n            </tr>\\n          \")}).join(\"\"),\"\\n    </tbody>\\n  </table>\\n\");i&&(i.innerHTML=a+c+o);"},"sourceMaps":{"js":{"mappings":[{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":0}},{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":13}},{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":20}},{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":35}},{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":43}},{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":56}},{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":57}},{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":64}},{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":68}},{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":76}},{"source":"src/index.js","original":{"line":96,"column":0},"generated":{"line":1,"column":90}},{"source":"src/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"src/index.js","name":"_database","original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"src/index.js","name":"_interopRequireDefault","original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"src/index.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"src/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"src/index.js","original":{"line":1,"column":39},"generated":{"line":1,"column":128}},{"source":"src/index.js","name":"_interopRequireDefault","original":{"line":1,"column":39},"generated":{"line":1,"column":137}},{"source":"src/index.js","name":"obj","original":{"line":1,"column":39},"generated":{"line":1,"column":139}},{"source":"src/index.js","name":"obj","original":{"line":1,"column":39},"generated":{"line":1,"column":142}},{"source":"src/index.js","name":"obj","original":{"line":1,"column":39},"generated":{"line":1,"column":149}},{"source":"src/index.js","name":"obj","original":{"line":1,"column":39},"generated":{"line":1,"column":152}},{"source":"src/index.js","name":"__esModule","original":{"line":1,"column":39},"generated":{"line":1,"column":154}},{"source":"src/index.js","name":"obj","original":{"line":1,"column":39},"generated":{"line":1,"column":165}},{"source":"src/index.js","name":"default","original":{"line":1,"column":39},"generated":{"line":1,"column":167}},{"source":"src/index.js","name":"default","original":{"line":1,"column":39},"generated":{"line":1,"column":168}},{"source":"src/index.js","name":"obj","original":{"line":1,"column":39},"generated":{"line":1,"column":176}},{"source":"src/index.js","original":{"line":3,"column":7},"generated":{"line":1,"column":179}},{"source":"src/index.js","name":"checkout","original":{"line":3,"column":13},"generated":{"line":1,"column":183}},{"source":"src/index.js","original":{"line":3,"column":24},"generated":{"line":1,"column":185}},{"source":"src/index.js","original":{"line":3,"column":45},"generated":{"line":1,"column":196}},{"source":"src/index.js","name":"productIDs","original":{"line":3,"column":25},"generated":{"line":1,"column":200}},{"source":"src/index.js","name":"arguments","original":{"line":3,"column":35},"generated":{"line":1,"column":202}},{"source":"src/index.js","name":"length","original":{"line":3,"column":35},"generated":{"line":1,"column":212}},{"source":"src/index.js","name":"arguments","original":{"line":3,"column":35},"generated":{"line":1,"column":219}},{"source":"src/index.js","name":"undefined","original":{"line":3,"column":35},"generated":{"line":1,"column":227}},{"source":"src/index.js","name":"arguments","original":{"line":3,"column":35},"generated":{"line":1,"column":231}},{"source":"src/index.js","name":"undefined","original":{"line":3,"column":35},"generated":{"line":1,"column":241}},{"source":"src/index.js","name":"arguments","original":{"line":3,"column":35},"generated":{"line":1,"column":244}},{"source":"src/index.js","original":{"line":3,"column":38},"generated":{"line":1,"column":254}},{"source":"src/index.js","original":{"line":3,"column":38},"generated":{"line":1,"column":257}},{"source":"src/index.js","name":"products","original":{"line":4,"column":8},"generated":{"line":1,"column":260}},{"source":"src/index.js","name":"database","original":{"line":4,"column":19},"generated":{"line":1,"column":262}},{"source":"src/index.js","original":{"line":4,"column":27},"generated":{"line":1,"column":264}},{"source":"src/index.js","name":"products","original":{"line":4,"column":28},"generated":{"line":1,"column":272}},{"source":"src/index.js","name":"discounts","original":{"line":5,"column":8},"generated":{"line":1,"column":281}},{"source":"src/index.js","original":{"line":5,"column":20},"generated":{"line":1,"column":283}},{"source":"src/index.js","name":"cartItems","original":{"line":8,"column":8},"generated":{"line":1,"column":286}},{"source":"src/index.js","name":"productIDs","original":{"line":8,"column":20},"generated":{"line":1,"column":288}},{"source":"src/index.js","name":"map","original":{"line":8,"column":31},"generated":{"line":1,"column":290}},{"source":"src/index.js","original":{"line":8,"column":35},"generated":{"line":1,"column":294}},{"source":"src/index.js","name":"id","original":{"line":8,"column":36},"generated":{"line":1,"column":303}},{"source":"src/index.js","name":"index","original":{"line":8,"column":40},"generated":{"line":1,"column":305}},{"source":"src/index.js","original":{"line":9,"column":4},"generated":{"line":1,"column":308}},{"source":"src/index.js","name":"_products$id","original":{"line":9,"column":4},"generated":{"line":1,"column":312}},{"source":"src/index.js","name":"products","original":{"line":9,"column":28},"generated":{"line":1,"column":314}},{"source":"src/index.js","name":"id","original":{"line":9,"column":37},"generated":{"line":1,"column":316}},{"source":"src/index.js","name":"name","original":{"line":9,"column":12},"generated":{"line":1,"column":319}},{"source":"src/index.js","name":"_products$id","original":{"line":9,"column":16},"generated":{"line":1,"column":321}},{"source":"src/index.js","name":"name","original":{"line":9,"column":12},"generated":{"line":1,"column":323}},{"source":"src/index.js","name":"price","original":{"line":9,"column":18},"generated":{"line":1,"column":328}},{"source":"src/index.js","name":"_products$id","original":{"line":9,"column":23},"generated":{"line":1,"column":330}},{"source":"src/index.js","name":"price","original":{"line":9,"column":18},"generated":{"line":1,"column":332}},{"source":"src/index.js","original":{"line":11,"column":4},"generated":{"line":1,"column":338}},{"source":"src/index.js","original":{"line":11,"column":11},"generated":{"line":1,"column":344}},{"source":"src/index.js","name":"index","original":{"line":12,"column":6},"generated":{"line":1,"column":345}},{"source":"src/index.js","name":"index","original":{"line":12,"column":13},"generated":{"line":1,"column":351}},{"source":"src/index.js","original":{"line":12,"column":21},"generated":{"line":1,"column":353}},{"source":"src/index.js","name":"id","original":{"line":13,"column":6},"generated":{"line":1,"column":355}},{"source":"src/index.js","name":"id","original":{"line":13,"column":6},"generated":{"line":1,"column":358}},{"source":"src/index.js","name":"name","original":{"line":14,"column":6},"generated":{"line":1,"column":360}},{"source":"src/index.js","name":"name","original":{"line":14,"column":6},"generated":{"line":1,"column":365}},{"source":"src/index.js","name":"originalPrice","original":{"line":15,"column":6},"generated":{"line":1,"column":367}},{"source":"src/index.js","name":"price","original":{"line":15,"column":21},"generated":{"line":1,"column":381}},{"source":"src/index.js","name":"finalPrice","original":{"line":16,"column":6},"generated":{"line":1,"column":383}},{"source":"src/index.js","name":"price","original":{"line":16,"column":18},"generated":{"line":1,"column":394}},{"source":"src/index.js","original":{"line":48,"column":2},"generated":{"line":1,"column":399}},{"source":"src/index.js","name":"cartItems","original":{"line":20,"column":6},"generated":{"line":1,"column":406}},{"source":"src/index.js","name":"length","original":{"line":20,"column":16},"generated":{"line":1,"column":408}},{"source":"src/index.js","original":{"line":6,"column":20},"generated":{"line":1,"column":415}},{"source":"src/index.js","name":"cartItems","original":{"line":21,"column":4},"generated":{"line":1,"column":417}},{"source":"src/index.js","name":"forEach","original":{"line":21,"column":14},"generated":{"line":1,"column":419}},{"source":"src/index.js","original":{"line":21,"column":22},"generated":{"line":1,"column":427}},{"source":"src/index.js","name":"item","original":{"line":21,"column":23},"generated":{"line":1,"column":436}},{"source":"src/index.js","name":"index","original":{"line":21,"column":29},"generated":{"line":1,"column":438}},{"source":"src/index.js","original":{"line":22,"column":6},"generated":{"line":1,"column":441}},{"source":"src/index.js","name":"id","original":{"line":22,"column":14},"generated":{"line":1,"column":445}},{"source":"src/index.js","name":"item","original":{"line":22,"column":21},"generated":{"line":1,"column":447}},{"source":"src/index.js","name":"id","original":{"line":22,"column":14},"generated":{"line":1,"column":449}},{"source":"src/index.js","name":"undefined","original":{"line":24,"column":28},"generated":{"line":1,"column":457}},{"source":"src/index.js","name":"discounts","original":{"line":24,"column":10},"generated":{"line":1,"column":461}},{"source":"src/index.js","name":"id","original":{"line":24,"column":20},"generated":{"line":1,"column":463}},{"source":"src/index.js","name":"discounts","original":{"line":25,"column":8},"generated":{"line":1,"column":466}},{"source":"src/index.js","name":"id","original":{"line":25,"column":18},"generated":{"line":1,"column":468}},{"source":"src/index.js","name":"index","original":{"line":25,"column":24},"generated":{"line":1,"column":471}},{"source":"src/index.js","name":"item","original":{"line":27,"column":8},"generated":{"line":1,"column":473}},{"source":"src/index.js","name":"finalPrice","original":{"line":27,"column":13},"generated":{"line":1,"column":475}},{"source":"src/index.js","original":{"line":27,"column":27},"generated":{"line":1,"column":487}},{"source":"src/index.js","name":"cartItems","original":{"line":31,"column":4},"generated":{"line":1,"column":492}},{"source":"src/index.js","name":"forEach","original":{"line":31,"column":14},"generated":{"line":1,"column":494}},{"source":"src/index.js","original":{"line":31,"column":22},"generated":{"line":1,"column":502}},{"source":"src/index.js","name":"item","original":{"line":31,"column":23},"generated":{"line":1,"column":511}},{"source":"src/index.js","name":"index","original":{"line":31,"column":29},"generated":{"line":1,"column":513}},{"source":"src/index.js","original":{"line":32,"column":6},"generated":{"line":1,"column":516}},{"source":"src/index.js","name":"id","original":{"line":32,"column":14},"generated":{"line":1,"column":520}},{"source":"src/index.js","name":"item","original":{"line":32,"column":21},"generated":{"line":1,"column":522}},{"source":"src/index.js","name":"id","original":{"line":32,"column":14},"generated":{"line":1,"column":524}},{"source":"src/index.js","original":{"line":34,"column":6},"generated":{"line":1,"column":527}},{"source":"src/index.js","name":"undefined","original":{"line":34,"column":28},"generated":{"line":1,"column":535}},{"source":"src/index.js","name":"discounts","original":{"line":34,"column":10},"generated":{"line":1,"column":539}},{"source":"src/index.js","name":"id","original":{"line":34,"column":20},"generated":{"line":1,"column":541}},{"source":"src/index.js","name":"discounts","original":{"line":35,"column":8},"generated":{"line":1,"column":544}},{"source":"src/index.js","name":"id","original":{"line":35,"column":18},"generated":{"line":1,"column":546}},{"source":"src/index.js","name":"index","original":{"line":35,"column":24},"generated":{"line":1,"column":549}},{"source":"src/index.js","name":"item","original":{"line":36,"column":8},"generated":{"line":1,"column":551}},{"source":"src/index.js","name":"finalPrice","original":{"line":36,"column":13},"generated":{"line":1,"column":553}},{"source":"src/index.js","original":{"line":36,"column":27},"generated":{"line":1,"column":565}},{"source":"src/index.js","original":{"line":37,"column":13},"generated":{"line":1,"column":572}},{"source":"src/index.js","original":{"line":37,"column":36},"generated":{"line":1,"column":576}},{"source":"src/index.js","name":"discounts","original":{"line":37,"column":17},"generated":{"line":1,"column":580}},{"source":"src/index.js","name":"id","original":{"line":37,"column":27},"generated":{"line":1,"column":582}},{"source":"src/index.js","original":{"line":37,"column":39},"generated":{"line":1,"column":585}},{"source":"src/index.js","name":"cartItems","original":{"line":38,"column":31},"generated":{"line":1,"column":586}},{"source":"src/index.js","name":"discounts","original":{"line":38,"column":41},"generated":{"line":1,"column":588}},{"source":"src/index.js","name":"id","original":{"line":38,"column":51},"generated":{"line":1,"column":590}},{"source":"src/index.js","name":"finalPrice","original":{"line":39,"column":23},"generated":{"line":1,"column":594}},{"source":"src/index.js","original":{"line":39,"column":37},"generated":{"line":1,"column":606}},{"source":"src/index.js","name":"item","original":{"line":40,"column":8},"generated":{"line":1,"column":608}},{"source":"src/index.js","name":"finalPrice","original":{"line":40,"column":13},"generated":{"line":1,"column":610}},{"source":"src/index.js","original":{"line":40,"column":27},"generated":{"line":1,"column":622}},{"source":"src/index.js","name":"discounts","original":{"line":41,"column":8},"generated":{"line":1,"column":625}},{"source":"src/index.js","name":"id","original":{"line":41,"column":18},"generated":{"line":1,"column":627}},{"source":"src/index.js","original":{"line":41,"column":25},"generated":{"line":1,"column":631}},{"source":"src/index.js","name":"item","original":{"line":43,"column":8},"generated":{"line":1,"column":638}},{"source":"src/index.js","name":"finalPrice","original":{"line":43,"column":13},"generated":{"line":1,"column":640}},{"source":"src/index.js","original":{"line":43,"column":27},"generated":{"line":1,"column":652}},{"source":"src/index.js","original":{"line":48,"column":9},"generated":{"line":1,"column":656}},{"source":"src/index.js","name":"cart","original":{"line":49,"column":4},"generated":{"line":1,"column":657}},{"source":"src/index.js","name":"cartItems","original":{"line":49,"column":10},"generated":{"line":1,"column":662}},{"source":"src/index.js","name":"totalPrice","original":{"line":50,"column":4},"generated":{"line":1,"column":664}},{"source":"src/index.js","name":"cartItems","original":{"line":50,"column":16},"generated":{"line":1,"column":675}},{"source":"src/index.js","name":"reduce","original":{"line":50,"column":26},"generated":{"line":1,"column":677}},{"source":"src/index.js","original":{"line":50,"column":33},"generated":{"line":1,"column":684}},{"source":"src/index.js","name":"total","original":{"line":50,"column":34},"generated":{"line":1,"column":693}},{"source":"src/index.js","name":"item","original":{"line":50,"column":41},"generated":{"line":1,"column":695}},{"source":"src/index.js","original":{"line":50,"column":45},"generated":{"line":1,"column":698}},{"source":"src/index.js","name":"total","original":{"line":50,"column":50},"generated":{"line":1,"column":705}},{"source":"src/index.js","name":"item","original":{"line":50,"column":58},"generated":{"line":1,"column":707}},{"source":"src/index.js","name":"finalPrice","original":{"line":50,"column":63},"generated":{"line":1,"column":709}},{"source":"src/index.js","original":{"line":50,"column":75},"generated":{"line":1,"column":721}},{"source":"src/index.js","name":"exports","original":{"line":52,"column":2},"generated":{"line":1,"column":726}},{"source":"src/index.js","name":"checkout","original":{"line":52,"column":2},"generated":{"line":1,"column":734}},{"source":"src/index.js","name":"checkout","original":{"line":52,"column":2},"generated":{"line":1,"column":743}},{"source":"src/index.js","original":{"line":54,"column":0},"generated":{"line":1,"column":745}},{"source":"src/index.js","name":"result","original":{"line":54,"column":6},"generated":{"line":1,"column":749}},{"source":"src/index.js","name":"checkout","original":{"line":54,"column":15},"generated":{"line":1,"column":751}},{"source":"src/index.js","original":{"line":54,"column":24},"generated":{"line":1,"column":753}},{"source":"src/index.js","original":{"line":54,"column":25},"generated":{"line":1,"column":754}},{"source":"src/index.js","original":{"line":54,"column":32},"generated":{"line":1,"column":760}},{"source":"src/index.js","original":{"line":54,"column":39},"generated":{"line":1,"column":766}},{"source":"src/index.js","original":{"line":54,"column":46},"generated":{"line":1,"column":772}},{"source":"src/index.js","original":{"line":54,"column":53},"generated":{"line":1,"column":778}},{"source":"src/index.js","name":"appContainer","original":{"line":56,"column":6},"generated":{"line":1,"column":786}},{"source":"src/index.js","name":"document","original":{"line":56,"column":21},"generated":{"line":1,"column":788}},{"source":"src/index.js","name":"getElementById","original":{"line":56,"column":30},"generated":{"line":1,"column":797}},{"source":"src/index.js","original":{"line":56,"column":45},"generated":{"line":1,"column":812}},{"source":"src/index.js","name":"priceElement","original":{"line":58,"column":6},"generated":{"line":1,"column":819}},{"source":"src/index.js","name":"concat","original":{"line":58,"column":18},"generated":{"line":1,"column":821}},{"source":"src/index.js","name":"concat","original":{"line":58,"column":18},"generated":{"line":1,"column":842}},{"source":"src/index.js","name":"result","original":{"line":58,"column":42},"generated":{"line":1,"column":849}},{"source":"src/index.js","name":"totalPrice","original":{"line":58,"column":49},"generated":{"line":1,"column":851}},{"source":"src/index.js","original":{"line":58,"column":65},"generated":{"line":1,"column":862}},{"source":"src/index.js","name":"emptyLine","original":{"line":60,"column":6},"generated":{"line":1,"column":870}},{"source":"src/index.js","original":{"line":60,"column":18},"generated":{"line":1,"column":872}},{"source":"src/index.js","name":"tableElement","original":{"line":62,"column":6},"generated":{"line":1,"column":884}},{"source":"src/index.js","name":"concat","original":{"line":62,"column":18},"generated":{"line":1,"column":886}},{"source":"src/index.js","name":"concat","original":{"line":62,"column":18},"generated":{"line":1,"column":1215}},{"source":"src/index.js","name":"result","original":{"line":78,"column":8},"generated":{"line":1,"column":1222}},{"source":"src/index.js","name":"cart","original":{"line":78,"column":15},"generated":{"line":1,"column":1224}},{"source":"src/index.js","name":"map","original":{"line":79,"column":9},"generated":{"line":1,"column":1229}},{"source":"src/index.js","original":{"line":80,"column":10},"generated":{"line":1,"column":1233}},{"source":"src/index.js","name":"_ref","original":{"line":80,"column":10},"generated":{"line":1,"column":1242}},{"source":"src/index.js","original":{"line":80,"column":10},"generated":{"line":1,"column":1245}},{"source":"src/index.js","name":"index","original":{"line":80,"column":13},"generated":{"line":1,"column":1249}},{"source":"src/index.js","name":"_ref","original":{"line":80,"column":18},"generated":{"line":1,"column":1251}},{"source":"src/index.js","name":"index","original":{"line":80,"column":13},"generated":{"line":1,"column":1253}},{"source":"src/index.js","name":"id","original":{"line":80,"column":20},"generated":{"line":1,"column":1259}},{"source":"src/index.js","name":"_ref","original":{"line":80,"column":22},"generated":{"line":1,"column":1261}},{"source":"src/index.js","name":"id","original":{"line":80,"column":20},"generated":{"line":1,"column":1263}},{"source":"src/index.js","name":"originalPrice","original":{"line":80,"column":24},"generated":{"line":1,"column":1266}},{"source":"src/index.js","name":"_ref","original":{"line":80,"column":37},"generated":{"line":1,"column":1268}},{"source":"src/index.js","name":"originalPrice","original":{"line":80,"column":24},"generated":{"line":1,"column":1270}},{"source":"src/index.js","name":"finalPrice","original":{"line":80,"column":39},"generated":{"line":1,"column":1284}},{"source":"src/index.js","name":"_ref","original":{"line":80,"column":49},"generated":{"line":1,"column":1286}},{"source":"src/index.js","name":"finalPrice","original":{"line":80,"column":39},"generated":{"line":1,"column":1288}},{"source":"src/index.js","original":{"line":80,"column":49},"generated":{"line":1,"column":1299}},{"source":"src/index.js","name":"concat","original":{"line":80,"column":49},"generated":{"line":1,"column":1305}},{"source":"src/index.js","name":"concat","original":{"line":80,"column":49},"generated":{"line":1,"column":1346}},{"source":"src/index.js","name":"index","original":{"line":82,"column":20},"generated":{"line":1,"column":1353}},{"source":"src/index.js","name":"concat","original":{"line":82,"column":25},"generated":{"line":1,"column":1355}},{"source":"src/index.js","name":"concat","original":{"line":82,"column":25},"generated":{"line":1,"column":1384}},{"source":"src/index.js","name":"id","original":{"line":83,"column":20},"generated":{"line":1,"column":1391}},{"source":"src/index.js","name":"concat","original":{"line":83,"column":22},"generated":{"line":1,"column":1393}},{"source":"src/index.js","name":"concat","original":{"line":83,"column":22},"generated":{"line":1,"column":1422}},{"source":"src/index.js","name":"originalPrice","original":{"line":84,"column":20},"generated":{"line":1,"column":1429}},{"source":"src/index.js","name":"concat","original":{"line":84,"column":33},"generated":{"line":1,"column":1431}},{"source":"src/index.js","name":"concat","original":{"line":84,"column":33},"generated":{"line":1,"column":1460}},{"source":"src/index.js","name":"finalPrice","original":{"line":85,"column":20},"generated":{"line":1,"column":1467}},{"source":"src/index.js","original":{"line":85,"column":30},"generated":{"line":1,"column":1469}},{"source":"src/index.js","name":"join","original":{"line":89,"column":9},"generated":{"line":1,"column":1511}},{"source":"src/index.js","original":{"line":89,"column":14},"generated":{"line":1,"column":1516}},{"source":"src/index.js","original":{"line":92,"column":1},"generated":{"line":1,"column":1520}},{"source":"src/index.js","name":"appContainer","original":{"line":94,"column":4},"generated":{"line":1,"column":1552}},{"source":"src/index.js","name":"appContainer","original":{"line":95,"column":2},"generated":{"line":1,"column":1556}},{"source":"src/index.js","name":"innerHTML","original":{"line":95,"column":15},"generated":{"line":1,"column":1558}},{"source":"src/index.js","name":"priceElement","original":{"line":95,"column":27},"generated":{"line":1,"column":1568}},{"source":"src/index.js","name":"emptyLine","original":{"line":95,"column":42},"generated":{"line":1,"column":1570}},{"source":"src/index.js","name":"tableElement","original":{"line":95,"column":54},"generated":{"line":1,"column":1572}}],"sources":{"src/index.js":"import database from \"./database.json\";\n\nexport const checkout = (productIDs = []) => {\n  const products = database.products;\n  const discounts = {};\n  const threshold = 3;\n\n  const cartItems = productIDs.map((id, index) => {\n    const { name, price } = products[id];\n\n    return {\n      index: index + 1,\n      id,\n      name,\n      originalPrice: price,\n      finalPrice: price,\n    };\n  });\n\n  if (cartItems.length < threshold) {\n    cartItems.forEach((item, index) => {\n      const { id } = item;\n\n      if (discounts[id] === undefined) {\n        discounts[id] = index;\n      } else {\n        item.finalPrice *= 0.5;\n      }\n    });\n  } else {\n    cartItems.forEach((item, index) => {\n      const { id } = item;\n\n      if (discounts[id] === undefined) {\n        discounts[id] = index;\n        item.finalPrice -= 5;\n      } else if (discounts[id] !== -1) {\n        const discountedItem = cartItems[discounts[id]];\n        discountedItem.finalPrice += 5;\n        item.finalPrice *= 0.5;\n        discounts[id] = -1;\n      } else {\n        item.finalPrice -= 5;\n      }\n    });\n  }\n\n  return {\n    cart: cartItems,\n    totalPrice: cartItems.reduce((total, item) => total + item.finalPrice, 0),\n  };\n};\n\nconst result = checkout([\"003\", \"002\", \"003\", \"003\", \"004\"]);\n\nconst appContainer = document.getElementById(\"app\");\n\nconst priceElement = `<p>價格。以本範例為例，價格為：$${result.totalPrice}</p>`;\n\nconst emptyLine = \"<p>\\n</p>\";\n\nconst tableElement = `\n  <table style=\"text-align: center;\">\n    <thead>\n      <tr>\n        <th>#</th>\n        <th>ID</th>\n        <th>原價</th>\n        <th>活動價</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td colspan=\"4\">\n          ----------------------------------------------------\n        </td>\n      </tr>\n      ${result.cart\n        .map(\n          ({ index, id, originalPrice, finalPrice }) => `\n            <tr>\n              <td>${index}</td>\n              <td>${id}</td>\n              <td>${originalPrice}</td>\n              <td>${finalPrice}</td>\n            </tr>\n          `\n        )\n        .join(\"\")}\n    </tbody>\n  </table>\n`;\n\nif (appContainer) {\n  appContainer.innerHTML = priceElement + emptyLine + tableElement;\n}\n"},"lineCount":null}},"error":null,"hash":"b04479696f06dca5e9f26b77a3ea783f","cacheData":{"env":{}}}